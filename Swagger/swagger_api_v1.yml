swagger: '2.0'
info:
  title: shappar
  version: '1.0'
  contact:
    name: Fujiya
  description: shappar api
host: 'localhost:3000'
schemes:
  - http
  - https
produces:
  - application/json
consumes:
  - application/json
paths:
  /api/v1/posts:
    post:
      summary: ''
      operationId: post-api-posts
      responses:
        '201':
          description: Created
          schema:
            type: object
            properties:
              user:
                type: string
              question:
                type: string
              options:
                type: array
                items:
                  type: object
                  properties:
                    select_num:
                      type: integer
                    answer:
                      type: string
                    votes:
                      type: string
          examples:
            201 Created:
              user: 86f455ff-5029-4207-9300-b9dea5fe9d37
              question: question
              options:
                - select_num: 1
                  answer: answer_1
                  votes: 0
                - select_num: 2
                  answer: answer_2
                  votes: 0
                - select_num: 3
                  answer: answer_3
                  votes: 0
                - select_num: 4
                  answer: answer_4
                  votes: 0
              share_id: 2c904dae-b970-4df6-9e94-623e595a886d
        '400':
          description: Bad Request
          schema:
            type: object
            properties:
              question:
                type: string
              options:
                type: array
                items:
                  type: object
                  properties:
                    answer:
                      type: string
          examples:
            400 Bad Request:
              question:
                - この項目は空にできません。
              options:
                - answer:
                    - この項目は空にできません。
      description: new post
      parameters:
        - in: body
          name: body
          schema:
            type: object
            properties:
              question:
                type: string
              options:
                type: array
                items:
                  type: object
                  properties:
                    select_num:
                      type: integer
                    answer:
                      type: string
          x-examples:
            201 Created:
              unique_id: 86f455ff-5029-4207-9300-b9dea5fe9d37
              question: question
              options:
                - select_num: 1
                  answer: answer_1
                - select_num: 2
                  answer: answer_2
                - select_num: 3
                  answer: answer_3
                - select_num: 4
                  answer: answer_4
            400 Bad Request:
              unique_id: 86f455ff-5029-4207-9300-b9dea5fe9d37
              question: ''
              options:
                - select_num: 1
                  answer: ''
                - select_num: 2
                  answer: ''
          description: request body
        - in: body
          name: body
          schema:
            type: object
            properties:
              question:
                type: string
              options:
                type: array
                items:
                  type: object
                  properties:
                    select_num:
                      type: integer
                    answer:
                      type: string
          x-examples:
            201 Created:
              unique_id: 86f455ff-5029-4207-9300-b9dea5fe9d37
              question: question
              options:
                - select_num: 1
                  answer: answer_1
                - select_num: 2
                  answer: answer_2
                - select_num: 3
                  answer: answer_3
                - select_num: 4
                  answer: answer_4
            example-2: {}
          description: request body
      tags:
        - posts
  /api/v1/posts/public:
    get:
      summary: Your GET endpoint
      tags:
        - posts
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Posts'
          examples:
            $ref: '#/definitions/Posts/x-examples'
      operationId: get-api-v1-posts-public
      description: get public posts
      parameters:
        - type: string
          in: query
          name: q
          description: 検索ワード
  /api/v1/posts/private:
    get:
      summary: Your GET endpoint
      tags:
        - posts
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Posts'
          examples:
            $ref: '#/definitions/Posts/x-examples'
      operationId: get-api-v1-posts-private
      description: get private posts
      parameters:
        - type: string
          in: query
          name: q
          description: 検索キーワード
  '/api/v1/posts/{postId}':
    parameters:
      - type: integer
        name: postId
        in: path
        description: postId is required
        required: true
    get:
      summary: Your GET endpoint
      tags:
        - posts
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Post'
          examples:
            $ref: '#/definitions/Post/x-examples'
      operationId: get-api-v1-posts-postId
      description: get post details
    put:
      summary: ''
      operationId: put-api-v1-posts-postId
      responses:
        '200':
          description: OK
          schema:
            type: object
          examples:
            example-1: {}
      description: update post proparty or vote details
      tags:
        - posts
    delete:
      summary: ''
      operationId: delete-api-v1-posts-postId
      responses:
        '200':
          description: OK
          schema:
            type: object
          examples:
            example-1: {}
      description: delete post or vote
      tags:
        - posts
  '/api/v1/posts/{postId}/polls/{pollId}':
    parameters:
      - type: string
        name: postId
        in: path
        required: true
      - type: string
        name: pollId
        in: path
        required: true
    post:
      summary: ''
      operationId: post-api-v1-posts-postId-polls-pollId
      responses:
        '200':
          description: OK
          schema:
            type: object
            properties:
              id:
                type: integer
              voted:
                type: boolean
                default: false
              text:
                type: string
              total:
                type: integer
              selected:
                type: integer
              options:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: integer
                    content:
                      type: string
                    num:
                      type:
                        - integer
          examples:
            example-1:
              id: 1
              text: 今日の晩御飯のメニューで迷ってます。次のうち皆さんならどれがいいですか？
              voted: true
              total: 1000
              options:
                - id: 1
                  content: カレー
                  num: 100
                - id: 2
                  content: ハンバーグ
                  num: 300
                - id: 3
                  content: 唐揚げ
                  num: 400
                - id: 4
                  content: '******************************************************************'
                  num: 200
      description: vote post
      tags:
        - posts
  /api/v1/users:
    get:
      summary: Your GET endpoint
      tags:
        - users
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Users'
          examples:
            $ref: '#/definitions/Users/x-examples'
      operationId: get-api-v1-users
      description: get users list
    post:
      summary: ''
      operationId: post-api-v1-users
      responses:
        '200':
          description: OK
          schema:
            type: object
          examples:
            example-1: {}
      description: create new user
      tags:
        - users
  '/api/v1/users/{userId}':
    parameters:
      - type: string
        name: userId
        in: path
        required: true
        description: ユーザーが設定できるuserID
    get:
      summary: Your GET endpoint
      tags:
        - users
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/User'
          examples:
            $ref: '#/definitions/User/x-examples'
      operationId: get-api-v1-users-userId
      description: get user details
    patch:
      summary: ''
      operationId: put-api-v1-users-userId
      responses:
        '200':
          description: OK
          schema:
            type: object
          examples:
            example-1: {}
      description: user detail update
      tags:
        - users
      parameters:
        - in: body
          name: body
          schema:
            type: object
            properties:
              user_id:
                type: string
              name:
                type: string
              introduction:
                type: string
              homeimage:
                type: string
              iconimage:
                type: string
          description: update user infomation
    delete:
      summary: ''
      operationId: delete-api-v1-users-userId
      responses:
        '200':
          description: OK
          schema:
            type: object
          examples:
            example-1: {}
      description: delete user
      tags:
        - users
  '/api/v1/users/{userId}/settings':
    parameters:
      - type: string
        name: userId
        in: path
        required: true
        description: ユーザーが設定できるuserID
    put:
      summary: ''
      operationId: put-api-v1-users-userId-settings
      responses:
        '200':
          description: OK
          examples:
            example-1: {}
          schema:
            type: object
      tags:
        - users
      description: update user settings
    get:
      summary: ''
      operationId: get-api-v1-users-userId-settings
      responses:
        '200':
          description: OK
          schema:
            type: object
            properties:
              push:
                type: boolean
              darkmode:
                type: boolean
          examples:
            example-1:
              push: true
              darkmode: false
      description: get user settings
      tags:
        - users
  '/api/v1/users/{userId}/posts':
    parameters:
      - type: string
        name: userId
        in: path
        required: true
        description: ユーザーが設定できるuserID
    get:
      summary: Your GET endpoint
      tags:
        - users
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Posts'
          examples:
            $ref: '#/definitions/Posts/x-examples'
      operationId: get-api-v1-users-userId-posts
      description: get user posted posts
  '/api/v1/users/{userId}/voted':
    parameters:
      - type: string
        name: userId
        in: path
        required: true
        description: ユーザーが設定できるuserID
    get:
      summary: Your GET endpoint
      tags:
        - users
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Posts'
          examples:
            $ref: '#/definitions/Posts/x-examples'
      operationId: get-api-v1-users-userId-voted
      description: user voted posts
  '/api/v1/friendships/{userId}':
    post:
      summary: ''
      operationId: post-api-v1-friendships
      responses:
        '200':
          description: OK
          schema:
            type: object
          examples:
            example-1: {}
      tags:
        - friendships
      description: create friendships
    put:
      summary: ''
      operationId: put-api-v1-friendships
      responses:
        '200':
          description: OK
          examples:
            example-1: {}
          schema:
            type: object
      tags:
        - friendships
      description: update friendship
    delete:
      summary: ''
      operationId: delete-api-v1-friendships
      responses:
        '200':
          description: OK
          schema:
            type: object
          examples:
            example-1: {}
      tags:
        - friendships
      description: delete friendship
    parameters:
      - type: string
        name: userId
        in: path
        required: true
        description: ユーザーが設定できるuserID
  '/api/v1/frendships/{userId}/following':
    parameters:
      - type: string
        name: userId
        in: path
        required: true
        description: ユーザーが設定できるuserID
    get:
      summary: Your GET endpoint
      tags:
        - friendships
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Users'
          examples:
            $ref: '#/definitions/Users/x-examples'
      operationId: get-api-v1-frendships-userId-following
      description: get following users
  '/api/v1/frendships/{userId}/followers':
    parameters:
      - type: string
        name: userId
        in: path
        required: true
        description: ユーザーが設定できるuserID
    get:
      summary: Your GET endpoint
      tags:
        - friendships
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/Users'
          examples:
            $ref: '#/definitions/Users/x-examples'
      operationId: get-api-v1-frendships-userId-followers
      description: get followers
definitions:
  Posts:
    title: Posts
    type: object
    x-examples:
      Unvoted:
        posts:
          - id: 1
            text: 今日の晩御飯のメニューで迷ってます。次のうち皆さんならどれがいいですか？
            voted: false
            total: 1000
            selected: -1
            options:
              - id: 1
                content: カレー
                num: -1
              - id: 2
                content: ハンバーグ
                num: -1
              - id: 3
                content: 唐揚げ
                num: -1
              - id: 4
                content: '******************************************************************'
                num: -1
          - id: 2
            voted: false
            text: 今日の晩御飯のメニューで迷ってます。次のうち皆さんならどれがいいですか？
            total: 1000
            selected: -1
            options:
              - id: 1
                content: カレー
                num: -1
              - id: 2
                content: ハンバーグ
                num: -1
              - id: 3
                content: 唐揚げ
                num: -1
              - id: 4
                content: '******************************************************************'
                num: -1
          - id: 3
            voted: false
            text: 今日の晩御飯のメニューで迷ってます。次のうち皆さんならどれがいいですか？
            total: 1000
            selected: -1
            options:
              - id: 1
                content: カレー
                num: -1
              - id: 2
                content: ハンバーグ
                num: -1
              - id: 3
                content: 唐揚げ
                num: -1
              - id: 4
                content: '******************************************************************'
                num: -1
          - id: 4
            voted: false
            text: 今日の晩御飯のメニューで迷ってます。次のうち皆さんならどれがいいですか？
            total: 1000
            selected: -1
            options:
              - id: 1
                content: カレー
                num: -1
              - id: 2
                content: ハンバーグ
                num: -1
              - id: 3
                content: 唐揚げ
                num: -1
              - id: 4
                content: '******************************************************************'
                num: -1
          - id: 5
            voted: false
            text: 今日の晩御飯のメニューで迷ってます。次のうち皆さんならどれがいいですか？
            total: 1000
            selected: -1
            options:
              - id: 1
                content: カレー
                num: -1
              - id: 2
                content: ハンバーグ
                num: -1
              - id: 3
                content: 唐揚げ
                num: -1
              - id: 4
                content: '******************************************************************'
                num: -1
          - id: 6
            voted: false
            text: 今日の晩御飯のメニューで迷ってます。次のうち皆さんならどれがいいですか？
            total: 1000
            selected: -1
            options:
              - id: 1
                content: カレー
                num: -1
              - id: 2
                content: ハンバーグ
                num: -1
              - id: 3
                content: 唐揚げ
                num: -1
              - id: 4
                content: '******************************************************************'
                num: -1
          - id: 7
            voted: false
            text: 今日の晩御飯のメニューで迷ってます。次のうち皆さんならどれがいいですか？
            total: 1000
            selected: -1
            options:
              - id: 1
                content: カレー
                num: -1
              - id: 2
                content: ハンバーグ
                num: -1
              - id: 3
                content: 唐揚げ
                num: -1
              - id: 4
                content: '******************************************************************'
                num: -1
          - id: 8
            voted: false
            text: 今日の晩御飯のメニューで迷ってます。次のうち皆さんならどれがいいですか？
            total: 1000
            selected: -1
            options:
              - id: 1
                content: カレー
                num: -1
              - id: 2
                content: ハンバーグ
                num: -1
              - id: 3
                content: 唐揚げ
                num: -1
              - id: 4
                content: '******************************************************************'
                num: -1
          - id: 9
            voted: false
            text: 今日の晩御飯のメニューで迷ってます。次のうち皆さんならどれがいいですか？
            total: 1000
            selected: -1
            options:
              - id: 1
                content: カレー
                num: -1
              - id: 2
                content: ハンバーグ
                num: -1
              - id: 3
                content: 唐揚げ
                num: -1
              - id: 4
                content: '******************************************************************'
                num: -1
      Voted:
        posts:
          - id: 1
            text: 今日の晩御飯のメニューで迷ってます。次のうち皆さんならどれがいいですか？
            voted: false
            total: 1000
            selected: 1
            options:
              - id: 1
                content: カレー
                num: 100
              - id: 2
                content: ハンバーグ
                num: 300
              - id: 3
                content: 唐揚げ
                num: 400
              - id: 4
                content: '******************************************************************'
                num: 200
          - id: 2
            voted: false
            text: 今日の晩御飯のメニューで迷ってます。次のうち皆さんならどれがいいですか？
            total: 1000
            selected: 1
            options:
              - id: 1
                content: カレー
                num: 100
              - id: 2
                content: ハンバーグ
                num: 300
              - id: 3
                content: 唐揚げ
                num: 400
              - id: 4
                content: '******************************************************************'
                num: 200
          - id: 3
            voted: false
            text: 今日の晩御飯のメニューで迷ってます。次のうち皆さんならどれがいいですか？
            total: 1000
            selected: 1
            options:
              - id: 1
                content: カレー
                num: 100
              - id: 2
                content: ハンバーグ
                num: 300
              - id: 3
                content: 唐揚げ
                num: 400
              - id: 4
                content: '******************************************************************'
                num: 200
          - id: 4
            voted: false
            text: 今日の晩御飯のメニューで迷ってます。次のうち皆さんならどれがいいですか？
            total: 1000
            selected: 1
            options:
              - id: 1
                content: カレー
                num: 100
              - id: 2
                content: ハンバーグ
                num: 300
              - id: 3
                content: 唐揚げ
                num: 400
              - id: 4
                content: '******************************************************************'
                num: 200
          - id: 5
            voted: false
            text: 今日の晩御飯のメニューで迷ってます。次のうち皆さんならどれがいいですか？
            total: 1000
            selected: 1
            options:
              - id: 1
                content: カレー
                num: 100
              - id: 2
                content: ハンバーグ
                num: 300
              - id: 3
                content: 唐揚げ
                num: 400
              - id: 4
                content: '******************************************************************'
                num: 200
          - id: 6
            voted: false
            text: 今日の晩御飯のメニューで迷ってます。次のうち皆さんならどれがいいですか？
            total: 1000
            selected: 1
            options:
              - id: 1
                content: カレー
                num: 100
              - id: 2
                content: ハンバーグ
                num: 300
              - id: 3
                content: 唐揚げ
                num: 400
              - id: 4
                content: '******************************************************************'
                num: 200
          - id: 7
            voted: false
            text: 今日の晩御飯のメニューで迷ってます。次のうち皆さんならどれがいいですか？
            total: 1000
            selected: 1
            options:
              - id: 1
                content: カレー
                num: 100
              - id: 2
                content: ハンバーグ
                num: 300
              - id: 3
                content: 唐揚げ
                num: 400
              - id: 4
                content: '******************************************************************'
                num: 200
          - id: 8
            voted: false
            text: 今日の晩御飯のメニューで迷ってます。次のうち皆さんならどれがいいですか？
            total: 1000
            selected: 1
            options:
              - id: 1
                content: カレー
                num: 100
              - id: 2
                content: ハンバーグ
                num: 300
              - id: 3
                content: 唐揚げ
                num: 400
              - id: 4
                content: '******************************************************************'
                num: 200
          - id: 9
            voted: false
            text: 今日の晩御飯のメニューで迷ってます。次のうち皆さんならどれがいいですか？
            total: 1000
            selected: 1
            options:
              - id: 1
                content: カレー
                num: 100
              - id: 2
                content: ハンバーグ
                num: 300
              - id: 3
                content: 唐揚げ
                num: 400
              - id: 4
                content: '******************************************************************'
                num: 200
      Mix:
        posts:
          - id: 1
            text: 今日の晩御飯のメニューで迷ってます。次のうち皆さんならどれがいいですか？
            voted: false
            total: 1000
            selected: -1
            options:
              - id: 1
                content: カレー
                num: -1
              - id: 2
                content: ハンバーグ
                num: -1
              - id: 3
                content: 唐揚げ
                num: -1
              - id: 4
                content: '******************************************************************'
                num: -1
          - id: 2
            voted: true
            text: 今日の晩御飯のメニューで迷ってます。次のうち皆さんならどれがいいですか？
            total: 1000
            selected: 1
            options:
              - id: 1
                content: カレー
                num: 100
              - id: 2
                content: ハンバーグ
                num: 300
              - id: 3
                content: 唐揚げ
                num: 400
              - id: 4
                content: '******************************************************************'
                num: 200
          - id: 3
            voted: true
            text: 今日の晩御飯のメニューで迷ってます。次のうち皆さんならどれがいいですか？
            total: 1000
            selected: 1
            options:
              - id: 1
                content: カレー
                num: 100
              - id: 2
                content: ハンバーグ
                num: 300
              - id: 3
                content: 唐揚げ
                num: 400
              - id: 4
                content: '******************************************************************'
                num: 200
          - id: 4
            voted: false
            text: 今日の晩御飯のメニューで迷ってます。次のうち皆さんならどれがいいですか？
            total: 1000
            selected: -1
            options:
              - id: 1
                content: カレー
                num: -1
              - id: 2
                content: ハンバーグ
                num: -1
              - id: 3
                content: 唐揚げ
                num: -1
              - id: 4
                content: '******************************************************************'
                num: -1
          - id: 5
            voted: false
            text: 今日の晩御飯のメニューで迷ってます。次のうち皆さんならどれがいいですか？
            total: 1000
            selected: -1
            options:
              - id: 1
                content: カレー
                num: -1
              - id: 2
                content: ハンバーグ
                num: -1
              - id: 3
                content: 唐揚げ
                num: -1
              - id: 4
                content: '******************************************************************'
                num: -1
          - id: 6
            voted: true
            text: 今日の晩御飯のメニューで迷ってます。次のうち皆さんならどれがいいですか？
            total: 1000
            selected: 1
            options:
              - id: 1
                content: カレー
                num: 100
              - id: 2
                content: ハンバーグ
                num: 300
              - id: 3
                content: 唐揚げ
                num: 400
              - id: 4
                content: '******************************************************************'
                num: 200
          - id: 7
            voted: false
            text: 今日の晩御飯のメニューで迷ってます。次のうち皆さんならどれがいいですか？
            total: 1000
            selected: -1
            options:
              - id: 1
                content: カレー
                num: -1
              - id: 2
                content: ハンバーグ
                num: -1
              - id: 3
                content: 唐揚げ
                num: -1
              - id: 4
                content: '******************************************************************'
                num: -1
          - id: 8
            voted: true
            text: 今日の晩御飯のメニューで迷ってます。次のうち皆さんならどれがいいですか？
            total: 1000
            selected: 1
            options:
              - id: 1
                content: カレー
                num: 100
              - id: 2
                content: ハンバーグ
                num: 300
              - id: 3
                content: 唐揚げ
                num: 400
              - id: 4
                content: '******************************************************************'
                num: 200
          - id: 9
            voted: false
            text: 今日の晩御飯のメニューで迷ってます。次のうち皆さんならどれがいいですか？
            total: 1000
            selected: -1
            options:
              - id: 1
                content: カレー
                num: -1
              - id: 2
                content: ハンバーグ
                num: -1
              - id: 3
                content: 唐揚げ
                num: -1
              - id: 4
                content: '******************************************************************'
                num: -1
    description: ''
    properties:
      posts:
        type: array
        items:
          $ref: '#/definitions/Post'
  User:
    title: User
    type: object
    x-examples:
      User:
        unique_id: UUID_string
        user_id: sample_user_001
        name: sumple_user_name
        introduction: text text text text text text text
        iconimage: 'http://example.com/iconURL'
        homeimage: 'http://example.com/homeImageURL'
        followers: 100
        follow: 100
        followed: true
    properties:
      unique_id:
        type: string
      name:
        type: string
      user_id:
        type: string
      introduction:
        type: string
      homeImage:
        type: string
      iconimage:
        type: string
      followers:
        type: integer
      follow:
        type: integer
      followed:
        type: boolean
  Post:
    title: Post
    type: object
    x-examples:
      Post:
        id: 1
        text: 今日の晩御飯のメニューで迷ってます。次のうち皆さんならどれがいいですか？
        voted: true
        total: 1000
        options:
          - id: 1
            content: カレー
            num: 100
          - id: 2
            content: ハンバーグ
            num: 300
          - id: 3
            content: 唐揚げ
            num: 400
          - id: 4
            content: '******************************************************************'
            num: 200
    properties:
      id:
        type: integer
      voted:
        type: boolean
        default: false
      text:
        type: string
      total:
        type: integer
      selected:
        type: integer
      options:
        type: array
        items:
          type: object
          properties:
            id:
              type: integer
            content:
              type: string
            num:
              type:
                - integer
  Users:
    title: Users
    type: object
    properties:
      users:
        type: array
        items:
          $ref: '#/definitions/User'
    x-examples:
      Users:
        users:
          - unique_id: UUID_string
            user_id: sample_user_001
            name: sumple_user_name
            introduction: text text text text text text text
            iconimage: 'http://example.com/iconURL'
            homeimage: 'http://example.com/homeImageURL'
            followers: 100
            follow: 100
            followed: true
          - unique_id: UUID_string
            user_id: sample_user_001
            name: sumple_user_name
            introduction: text text text text text text text
            iconimage: 'http://example.com/iconURL'
            homeimage: 'http://example.com/homeImageURL'
            followers: 100
            follow: 100
            followed: true
          - unique_id: UUID_string
            user_id: sample_user_001
            name: sumple_user_name
            introduction: text text text text text text text
            iconimage: 'http://example.com/iconURL'
            homeimage: 'http://example.com/homeImageURL'
            followers: 100
            follow: 100
            followed: true
          - unique_id: UUID_string
            user_id: sample_user_001
            name: sumple_user_name
            introduction: text text text text text text text
            iconimage: 'http://example.com/iconURL'
            homeimage: 'http://example.com/homeImageURL'
            followers: 100
            follow: 100
            followed: true
          - unique_id: UUID_string
            user_id: sample_user_001
            name: sumple_user_name
            introduction: text text text text text text text
            iconimage: 'http://example.com/iconURL'
            homeimage: 'http://example.com/homeImageURL'
            followers: 100
            follow: 100
            followed: true
          - unique_id: UUID_string
            user_id: sample_user_001
            name: sumple_user_name
            introduction: text text text text text text text
            iconimage: 'http://example.com/iconURL'
            homeimage: 'http://example.com/homeImageURL'
            followers: 100
            follow: 100
            followed: true
securityDefinitions: {}
tags:
  - name: posts
  - name: users
  - name: friendships
